# =============================================================================
# 智能客服系统 - 环境变量配置模板
# =============================================================================
# 使用说明:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际情况填写各项配置
# 3. 敏感信息（如密钥）请勿提交到版本控制系统
# =============================================================================

# -----------------------------------------------------------------------------
# 运行环境配置
# -----------------------------------------------------------------------------
# 环境类型：dev(开发) / prod(生产) / test(测试)
HZ_FUTURE_SMART_BRAIN_ENV=dev

# -----------------------------------------------------------------------------
# 应用基础配置
# -----------------------------------------------------------------------------
# 日志级别：DEBUG / INFO / WARNING / ERROR
LOG_LEVEL=DEBUG
# 日志存储目录
LOG_DIR=logs
# 日志文件最大字节数（默认10MB）
LOG_MAX_BYTES=10485760
# 日志文件备份数量
LOG_BACKUP_COUNT=5
# 数据存储目录
DATA_DIR=data

# -----------------------------------------------------------------------------
# 大语言模型 (LLM) 配置
# -----------------------------------------------------------------------------
# 主LLM配置
LLM_BASE_URL=https://api.example.com/v1
LLM_API_KEY=your-api-key-here
LLM_MODEL=qwen-max
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=1000
LLM_MAX_HISTORY_TURNS=10
LLM_ENABLE_THINKING=false

# 路由LLM配置（用于意图识别，可选，未配置则使用主LLM）
ROUTER_LLM_BASE_URL=https://api.example.com/v1
ROUTER_LLM_API_KEY=your-api-key-here
ROUTER_LLM_MODEL=qwen-turbo
ROUTER_LLM_TEMPERATURE=0.3

# 图像理解LLM配置（可选，未配置则使用主LLM）
IMAGE_LLM_BASE_URL=https://api.example.com/v1
IMAGE_LLM_API_KEY=your-api-key-here
IMAGE_LLM_MODEL=qwen-vl-max

# -----------------------------------------------------------------------------
# 嵌入模型 (Embedding) 配置
# -----------------------------------------------------------------------------
EMBEDDING_BASE_URL=https://api.example.com/v1
EMBEDDING_API_KEY=your-api-key-here
EMBEDDING_MODEL=bge-large-zh-v1.5
EMBEDDING_DIMENSIONS=1024
EMBEDDING_MAX_TOKENS=1024

# -----------------------------------------------------------------------------
# 重排模型 (ReRank) 配置
# -----------------------------------------------------------------------------
RERANK_BASE_URL=http://192.168.0.105:9997/v1/rerank
RERANKER_API_KEY='leon'
RERANKER_MODEL=bge-reranker-large

# -----------------------------------------------------------------------------
# Redis 配置（用于会话状态存储）
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
# Checkpoint过期时间（秒，默认2小时）
REDIS_CHECKPOINT_TTL=7200
# Store过期时间（秒，默认24小时）
REDIS_STORE_TTL=86400

# -----------------------------------------------------------------------------
# 向量数据库配置 (ChromaDB)
# -----------------------------------------------------------------------------
STORAGE_TYPE=chromadb
CHROMA_HOST=192.168.0.105
CHROMA_PORT=8000
CHROMA_N_RESULTS=5
CHROMA_M=16
CHROMA_CONSTRUCTION_EF=100
CHROMA_SEARCH_EF=50
CHROMA_SPACE=cosine

# -----------------------------------------------------------------------------
# 数据库配置 (Text2SQL)
# -----------------------------------------------------------------------------
DB_TYPE=postgresql
DB_HOST=192.168.0.105
DB_PORT=5432
DB_USER=hzwl
DB_PASSWORD=hzwl@12345
DB_DATABASE=hzwl
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DIALECT=PostgreSQL
LANGUAGE=zh

# -----------------------------------------------------------------------------
# 知识库 (RAG) 配置
# -----------------------------------------------------------------------------
# 知识库服务地址（推荐使用 RAGFlow）
KB_ADDRESS=192.168.0.105
KB_API_KEY=ragflow-NmZDAyYzBNzExZjA5YmEzMzJmNT
KB_DATASET_NAME= 民航知识库
KB_SIMILARITY_THRESHOLD=0.2
KB_VACTOR_SIMILARITY_WEIGHT=0.7
KB_TOPK=5
KB_KEY_WORDS=True

# -----------------------------------------------------------------------------
# 优质qa配置
# -----------------------------------------------------------------------------
QA_SCORE_THRESHOLD=0.75
QA_TIME_DECAY_FACTOR=0.8

# -----------------------------------------------------------------------------
# 情感识别模型配置
# -----------------------------------------------------------------------------
EMOTION_MODEL=tabularisai/multilingual-sentiment-analysis
